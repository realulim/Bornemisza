<?xml version="1.0" encoding="UTF-8"?>
<hazelcast xsi:schemaLocation="http://www.hazelcast.com/schema/config hazelcast-config-3.9.xsd"
           xmlns="http://www.hazelcast.com/schema/config"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<network>
		<interfaces enabled="true">
			<interface>{{ pillar['privip'] }}</interface>
		</interfaces>
		<port auto-increment="false">5701</port>
		<join>
			<multicast enabled="true"></multicast>
		</join>
	</network>

	<ringbuffer name="New User Account">
		<capacity>10000</capacity>
		<time-to-live-seconds>86400</time-to-live-seconds>
	</ringbuffer>

	<ringbuffer name="Send Confirmation Mail">
		<capacity>10000</capacity>
		<time-to-live-seconds>86400</time-to-live-seconds>
	</ringbuffer>

	<reliable-topic name="New User Account">
		<statistics-enabled>true</statistics-enabled>
		<topic-overload-policy>DISCARD_OLDEST</topic-overload-policy>
		<message-listeners>
			<message-listener>de.bornemisza.users.subscriber.NewUserAccountListener</message-listener>
		</message-listeners>
	</reliable-topic>

	<reliable-topic name="Send Confirmation Mail">
		<statistics-enabled>true</statistics-enabled>
		<topic-overload-policy>DISCARD_OLDEST</topic-overload-policy>
		<message-listeners>
			<message-listener>de.bornemisza.users.subscriber.ConfirmationMailListener</message-listener>
		</message-listeners>
	</reliable-topic>

</hazelcast>
